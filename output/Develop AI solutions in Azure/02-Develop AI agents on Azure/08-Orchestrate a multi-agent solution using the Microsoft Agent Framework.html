<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orchestrate a multi-agent solution using the Microsoft Agent Framework</title>
    <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; max-width: 900px; margin: 0 auto; padding: 20px; line-height: 1.6; }
    h1 { color: #0078d4; border-bottom: 2px solid #0078d4; padding-bottom: 10px; }
    h2 { color: #333; margin-top: 40px; border-bottom: 1px solid #ddd; padding-bottom: 8px; }
    .section { margin-bottom: 40px; }
    .section-header { background: #f5f5f5; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
    .section-header a { color: #0078d4; text-decoration: none; }
    .section-header a:hover { text-decoration: underline; }
    img { max-width: 100%; height: auto; }
    pre { background: #f4f4f4; padding: 15px; overflow-x: auto; border-radius: 5px; }
    code { background: #f4f4f4; padding: 2px 5px; border-radius: 3px; }
    table { border-collapse: collapse; width: 100%; margin: 15px 0; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
    th { background: #f5f5f5; }
    .NOTE, .TIP { padding: 12px 15px; margin: 15px 0; border-radius: 5px; border-left: 4px solid; }
    .NOTE { background-color: #e7f3ff; border-color: #0078d4; }
    .NOTE > p:first-child { font-weight: bold; color: #0078d4; margin-top: 0; }
    .TIP { background-color: #e8f5e9; border-color: #4caf50; }
    .TIP > p:first-child { font-weight: bold; color: #2e7d32; margin-top: 0; }
</style>
</head>
<body>
    <h1>Orchestrate a multi-agent solution using the Microsoft Agent Framework</h1>

    <div class="section">
        <div class="section-header">
            <h2>1. Introduction</h2>
            <a href="https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/1-introduction">https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/1-introduction</a>
        </div>
        <div class="content"><main class="layout-body-main has-body-background-dark" data-bi-name="content" dir="ltr" id="main" lang="en-us" role="main">
<div data-main-column="">
<!-- Article header -->

<!-- Unit navigation menu -->

<!-- Main content area -->
<div class="content"><div class="modular-content-container has-body-background box">
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Introduction</h1>
<div class="xp-tag position-absolute top-0 right-0 margin-top-xs margin-top-sm-tablet margin-top-lg-desktop margin-top-xs-interactive margin-right-sm margin-right-lg-tablet margin-right-sm-interactive" data-progress-uid="learn.wwl.orchestrate-sk-multi-agent-solution.introduction">
<div class="xp-tag-hexagon">
<span class="xp-tag-icon is-shown-complete docon docon-check">
<span class="visually-hidden">Completed</span>
</span>
<span class="xp-tag-xp"></span>
</div>
</div>
<ul class="metadata page-metadata" id="module-unit-metadata">
<li id="module-unit-total-time">2 minutes</li>
</ul>
<div aria-hidden="true" hidden="" id="module-unit-module-assessment-message-container"></div>
<div hidden="" id="module-unit-notification-container"></div>
<div id="module-unit-content">
<p>AI agents offer a powerful combination of technologies, able to complete tasks with the use of generative AI. However, in some situations, the task required might be larger than is realistic for a single agent. For those scenarios, consider a <strong>multi-agent</strong> solution. A multi-agent solution allows agents to collaborate within the same conversation.</p>
<p>Imagine you're trying to address common DevOps challenges such as monitoring application performance, identifying issues, and deploying fixes. A multi-agent system could consist of four specialized agents working collaboratively:</p>
<ul>
<li><p>The Monitoring Agent continuously ingests logs and metrics, detects anomalies using natural language processing (NLP), and triggers alerts when issues arise.</p>
</li>
<li><p>The Root Cause Analysis Agent then correlates these anomalies with recent system changes, using machine learning models or predefined rules to pinpoint the root cause of the problem.</p>
</li>
<li><p>Once the root cause is identified, the Automated Deployment Agent takes over to implement fixes or roll back problematic changes by interacting with CI/CD pipelines and executing deployment scripts.</p>
</li>
<li><p>Finally, the Reporting Agent generates detailed reports summarizing the anomalies, root causes, and resolutions, and notifies stakeholders via email or other communication channels.</p>
</li>
</ul>
<p>This modular, scalable, and intelligent multi-agent system streamlines the DevOps process. The agents collaborate to reduce manual intervention and improve efficiency while ensuring timely communication and resolution of issues.</p>
<p>In this module, you'll explore how to use the powerful capabilities of the Microsoft Agent Framework to design and orchestrate intelligent agents that work collaboratively to solve complex problems. You'll also learn about the different types of orchestration patterns available, and use the Microsoft Agent Framework to develop your own AI agents that can collaborate for a multi-agent solution.</p>
<p>After completing this module, you'll be able to:</p>
<ul>
<li>Build AI agents using the Microsoft Agent Framework SDK</li>
<li>Use tools and plugins with your AI agents</li>
<li>Understand different types of orchestration patterns</li>
<li>Develop multi-agent solutions</li>
</ul>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
</div>
</div>
<!-- Feedback area -->
<div class="modular-content-container margin-block-xs">
<section class="feedback-section section is-full-height is-uniform padding-block-none position-relative">
<div class="font-weight-semibold display-none" id="ms--unit-support-message"></div>
<div id="ms--unit-user-feedback">
<!-- feedback section -->

<!-- end feedback section -->
</div>
</section>
</div>
<!-- Interactive footer area -->
</div>
</main></div>
    </div>

    <div class="section">
        <div class="section-header">
            <h2>2. Understand the Microsoft Agent Framework</h2>
            <a href="https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/2-understand-agent-framework">https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/2-understand-agent-framework</a>
        </div>
        <div class="content"><main class="layout-body-main has-body-background-dark" data-bi-name="content" dir="ltr" id="main" lang="en-us" role="main">
<div data-main-column="">
<!-- Article header -->

<!-- Unit navigation menu -->

<!-- Main content area -->
<div class="content"><div class="modular-content-container has-body-background box">
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Understand the Microsoft Agent Framework</h1>
<div class="xp-tag position-absolute top-0 right-0 margin-top-xs margin-top-sm-tablet margin-top-lg-desktop margin-top-xs-interactive margin-right-sm margin-right-lg-tablet margin-right-sm-interactive" data-progress-uid="learn.wwl.orchestrate-sk-multi-agent-solution.understand-agent-framework">
<div class="xp-tag-hexagon">
<span class="xp-tag-icon is-shown-complete docon docon-check">
<span class="visually-hidden">Completed</span>
</span>
<span class="xp-tag-xp"></span>
</div>
</div>
<ul class="metadata page-metadata" id="module-unit-metadata">
<li id="module-unit-total-time">6 minutes</li>
</ul>
<div aria-hidden="true" hidden="" id="module-unit-module-assessment-message-container"></div>
<div hidden="" id="module-unit-notification-container"></div>
<div id="module-unit-content">
<p>The Microsoft Agent Framework is an open-source SDK that enables developers to integrate AI models into their applications. This framework provides comprehensive support for creating AI-powered agents that can work independently or collaborate with other agents to accomplish complex tasks.</p>
<h2 id="what-is-the-microsoft-agent-framework">What is the Microsoft Agent Framework?</h2>
<p>The Microsoft Agent Framework is designed to help developers build AI-powered agents that can process user inputs, make decisions, and execute tasks autonomously by leveraging large language models and traditional programming logic. The framework provides structured components for defining AI-driven workflows, enabling agents to interact with users, APIs, and external services seamlessly.</p>
<h3 id="core-concepts">Core concepts</h3>
<p>The Microsoft Agent Framework provides a flexible architecture with the following key components:</p>
<ul>
<li><p><strong>Agents</strong></p>
<p>Agents are intelligent, AI-driven entities capable of reasoning and executing tasks. They use large language models, tools, and conversation history to make decisions dynamically and respond to user needs.</p>
</li>
<li><p><strong>Agent orchestration</strong></p>
<p>Multiple agents can collaborate towards a common goal using different orchestration patterns. The Microsoft Agent Framework supports several orchestration patterns with a unified interface for construction and invocation, allowing you to easily switch between patterns without rewriting your agent logic.</p>
</li>
</ul>
<p>The framework includes several core features that power agent functionality:</p>
<ul>
<li><p><strong>Chat clients</strong></p>
<p>Chat clients provide abstractions for connecting to AI services from different providers under a common interface. Supported providers include Azure OpenAI, OpenAI, Anthropic, and more through the <code>BaseChatClient</code> abstraction.</p>
</li>
<li><p><strong>Tools and function integration</strong></p>
<p><strong>Tools</strong> enable agents to extend their capabilities through custom functions and built-in services. Agents can automatically invoke tools to integrate with external APIs, execute code, search files, or access web information. The framework supports both custom function tools and built-in tools like Code Interpreter, File Search, and Web Search.</p>
</li>
<li><p><strong>Conversation management</strong></p>
<p>Agents can maintain conversation history across multiple interactions using <code>AgentThread</code>, allowing them to track previous interactions and adapt responses accordingly. The structured message system uses roles (USER, ASSISTANT, SYSTEM, TOOL) for persistent conversation context.</p>
</li>
</ul>
<h3 id="types-of-agents">Types of agents</h3>
<p>The Microsoft Agent Framework supports several different types of agents from multiple providers:</p>
<ul>
<li><p><strong>Microsoft Foundry Agent</strong> - a specialized agent within the Microsoft Agent Framework designed to provide enterprise-grade conversational capabilities with seamless tool integration. It automatically handles tool calling and securely manages conversation history using threads, reducing the overhead of maintaining state. Microsoft Foundry Agents support built-in tools and provide integration capabilities for Azure AI Search, Azure Functions, and other Azure services.</p>
</li>
<li><p><strong>ChatAgent</strong>: designed for general conversation and task completion interfaces. The <code>ChatAgent</code> type provides natural language processing, contextual understanding, and dialogue management with support for custom tools and instructions.</p>
</li>
<li><p><strong>OpenAI Assistant Agent</strong>: designed for advanced capabilities using OpenAI's Assistant API. This agent type supports goal-driven interactions with features like code interpretation and file search through the OpenAI platform.</p>
</li>
<li><p><strong>Anthropic Agent</strong>: provides access to Anthropic's Claude models with the framework's unified interface, supporting advanced reasoning and conversation capabilities.</p>
</li>
</ul>
<h2 id="why-you-should-use-the-microsoft-agent-framework">Why you should use the Microsoft Agent Framework</h2>
<p>The Microsoft Agent Framework offers a robust platform for building intelligent, autonomous, and collaborative AI agents. The framework can integrate agents from multiple sources, including Microsoft Foundry Agent Service, and supports both multi-agent collaboration and human-agent interaction. Agents can work together to orchestrate sophisticated workflows, where each agent specializes in a specific task, such as data collection, analysis, or decision-making. The framework also facilitates human-in-the-loop processes, enabling agents to augment human decision-making by providing insights or automating repetitive tasks. The provider-agnostic design allows you to switch between different AI providers without changing your code, making it suitable for building adaptable AI systems from simple chatbots to complex enterprise solutions.</p>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
</div>
</div>
<!-- Feedback area -->
<div class="modular-content-container margin-block-xs">
<section class="feedback-section section is-full-height is-uniform padding-block-none position-relative">
<div class="font-weight-semibold display-none" id="ms--unit-support-message"></div>
<div id="ms--unit-user-feedback">
<!-- feedback section -->

<!-- end feedback section -->
</div>
</section>
</div>
<!-- Interactive footer area -->
</div>
</main></div>
    </div>

    <div class="section">
        <div class="section-header">
            <h2>3. Understand agent orchestration</h2>
            <a href="https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/3-understand-agent-orchestration">https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/3-understand-agent-orchestration</a>
        </div>
        <div class="content"><main class="layout-body-main has-body-background-dark" data-bi-name="content" dir="ltr" id="main" lang="en-us" role="main">
<div data-main-column="">
<!-- Article header -->

<!-- Unit navigation menu -->

<!-- Main content area -->
<div class="content"><div class="modular-content-container has-body-background box">
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Understand agent orchestration</h1>
<div class="xp-tag position-absolute top-0 right-0 margin-top-xs margin-top-sm-tablet margin-top-lg-desktop margin-top-xs-interactive margin-right-sm margin-right-lg-tablet margin-right-sm-interactive" data-progress-uid="learn.wwl.orchestrate-sk-multi-agent-solution.understand-agent-orchestration">
<div class="xp-tag-hexagon">
<span class="xp-tag-icon is-shown-complete docon docon-check">
<span class="visually-hidden">Completed</span>
</span>
<span class="xp-tag-xp"></span>
</div>
</div>
<ul class="metadata page-metadata" id="module-unit-metadata">
<li id="module-unit-total-time">5 minutes</li>
</ul>
<div aria-hidden="true" hidden="" id="module-unit-module-assessment-message-container"></div>
<div hidden="" id="module-unit-notification-container"></div>
<div id="module-unit-content">
<p>The Microsoft Agent Framework SDK's agent orchestration framework makes it possible to design, manage, and scale complex multi-agent workflows without having to manually handle the details of agent coordination. Instead of relying on a single agent to manage every aspect of a task, you can combine multiple specialized agents. Each agent with a unique role or area of expertise can collaborate to create systems that are more robust, adaptive, and capable of solving real-world problems collaboratively.</p>
<p>By orchestrating agents together, you can take on tasks that would be too complex for a single agent—from running parallel analyses, to building multi-stage processing pipelines, to managing dynamic, context-driven handoffs between experts.</p>
<h2 id="why-multi-agent-orchestration-matters">Why multi-agent orchestration matters</h2>
<p>Single-agent systems are often limited in scope, constrained by one set of instructions or a single model prompt. Multi-agent orchestration addresses this limitation by allowing you to:</p>
<ul>
<li>Assign distinct skills, responsibilities, or perspectives to each agent.</li>
<li>Combine outputs from multiple agents to improve decision-making and accuracy.</li>
<li>Coordinate steps in a workflow so each agent’s work builds on the last.</li>
<li>Dynamically route control between agents based on context or rules.</li>
</ul>
<p>This approach opens the door to more flexible, efficient, and scalable solutions, especially for real-world applications that require collaboration, specialization, or redundancy.</p>
<h2 id="understand-workflows-in-the-microsoft-agent-framework">Understand workflows in the Microsoft Agent Framework</h2>
<p>The Microsoft Agent Framework provides <strong>workflows</strong> — structured sequences of steps used to complete a task. These workflows can include one or more <strong>AI agents</strong> alongside other components to automate complex operations.</p>
<p>Workflows give developers control over how tasks are executed, enable <strong>multi-agent orchestration</strong>, and support <strong>checkpointing</strong> to save and resume workflow states.</p>
<h3 id="core-components-of-a-workflow">Core Components of a Workflow</h3>
<h4 id="executors"><strong>Executors</strong></h4>
<p>Executors are the main workers in a workflow. They receive input messages, perform specific actions, and produce outputs that move the workflow toward completing its goal.<br/>
Executors can represent <strong>AI agents</strong> or <strong>custom logic</strong> components.</p>
<p><em>Example:</em> One executor could analyze a travel request, while another books the flight or hotel based on the results.</p>
<h4 id="edges"><strong>Edges</strong></h4>
<p>Edges define how messages flow between executors, determining the logic and order of execution. The Microsoft Agent Framework supports several types of edges:</p>
<ul>
<li><p><strong>Direct Edges:</strong> Connect one executor directly to another in sequence.<br/>
<em>Example:</em> After an AI agent gathers user input, the next executor processes the booking.*</p>
</li>
<li><p><strong>Conditional Edges:</strong> Trigger only when certain conditions are met.<br/>
<em>Example:</em> If hotel rooms are unavailable, the workflow branches to an executor that suggests alternative dates or locations.*</p>
</li>
<li><p><strong>Switch-Case Edges:</strong> Route messages to different executors based on predefined conditions.<br/>
<em>Example:</em> VIP customers might be routed to a premium service executor, while others follow the standard process.*</p>
</li>
<li><p><strong>Fan-Out Edges:</strong> Send a single message to multiple executors simultaneously.<br/>
<em>Example:</em> One request could be sent to several agents — one checking flights, another checking hotels.*</p>
</li>
<li><p><strong>Fan-In Edges:</strong> Combine multiple messages from different executors into one for a final step.<br/>
<em>Example:</em> After gathering hotel and flight results, a summary executor compiles them into a single travel itinerary.*</p>
</li>
</ul>
<h4 id="events"><strong>Events</strong></h4>
<p>The Microsoft Agent Framework includes built-in events to improve <strong>observability</strong> and <strong>debugging</strong> during workflow execution. These events help developers monitor progress, track errors, and analyze system performance.</p>
<table>
<thead>
<tr>
<th><strong>Event Name</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>WorkflowStartedEvent</strong></td>
<td>Triggered when workflow execution begins.</td>
</tr>
<tr>
<td><strong>WorkflowOutputEvent</strong></td>
<td>Emitted when the workflow produces an output.</td>
</tr>
<tr>
<td><strong>WorkflowErrorEvent</strong></td>
<td>Occurs when an error is encountered.</td>
</tr>
<tr>
<td><strong>ExecutorInvokeEvent</strong></td>
<td>Fired when an executor starts processing a task.</td>
</tr>
<tr>
<td><strong>ExecutorCompleteEvent</strong></td>
<td>Fired when an executor finishes its work.</td>
</tr>
<tr>
<td><strong>RequestInfoEvent</strong></td>
<td>Logged when an external request is issued.</td>
</tr>
</tbody>
</table>
<p>Workflows in the Microsoft Agent Framework allow developers to <strong>design, monitor, and control</strong> how multiple AI agents and logic components interact to complete complex tasks. They bring structure, flexibility, and transparency to agent-driven applications.</p>
<h2 id="supported-orchestration-patterns">Supported orchestration patterns</h2>
<p>Microsoft Agent Framework provides several orchestration patterns directly in the SDK, each offering a different approach to coordinating agents. These patterns are designed to be technology-agnostic so you can adapt them to your own domain and integrate them into your existing systems.</p>
<ul>
<li><strong>Concurrent orchestration</strong> - Broadcast the same task to multiple agents at once and collect their results independently. Useful for parallel analysis, independent subtasks, or ensemble decision making.</li>
<li><strong>Sequential orchestration</strong> - Pass the output from one agent to the next in a fixed order. Ideal for step-by-step workflows, pipelines, and progressive refinement.</li>
<li><strong>Handoff orchestration</strong> - Dynamically transfer control between agents based on context or rules. Great for escalation, fallback, and expert routing where one agent works at a time.</li>
<li><strong>Group chat orchestration</strong> - Coordinate a shared conversation among multiple agents (and optionally a human), managed by a chat manager that chooses who speaks next. Best for brainstorming, collaborative problem solving, and building consensus.</li>
<li><strong>Magentic orchestration</strong> - A manager-driven approach that plans, delegates, and adapts across specialized agents. Suited to complex, open-ended problems where the solution path evolves.</li>
</ul>
<h2 id="a-unified-orchestration-workflow">A unified orchestration workflow</h2>
<p>Regardless of which orchestration pattern you choose, the Microsoft Agent Framework SDK provides a consistent, developer-friendly interface for building and running them. The typical flow looks like this:</p>
<ol>
<li><strong>Define your agents</strong> and describe their capabilities.</li>
<li><strong>Select and create an orchestration</strong> pattern, optionally adding a manager agent if needed.</li>
<li><strong>Optionally configure callbacks or transforms</strong> for custom input and output handling.</li>
<li><strong>Start a runtime</strong> to manage execution.</li>
<li><strong>Invoke the orchestration</strong> with your task.</li>
<li><strong>Retrieve results</strong> in an asynchronous, nonblocking way.</li>
</ol>
<p>Because all patterns share the same core interface, you can easily experiment with different orchestration strategies without rewriting agent logic or learning new APIs. The SDK abstracts the complexity of agent communication, coordination, and result aggregation so you can focus on designing workflows that deliver results.</p>
<p>Multi-agent orchestration in the Microsoft Agent Framework SDK provides a flexible, scalable way to build intelligent systems that combine the strengths of multiple specialized agents. With built-in orchestration patterns, a unified development model, and runtime features for managing execution, you can quickly prototype, refine, and deploy collaborative AI workflows. The framework provides the tools to turn multiple agents into a cohesive problem-solving team, whether you're running parallel processes, sequential workflows, or dynamic conversations.</p>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
</div>
</div>
<!-- Feedback area -->
<div class="modular-content-container margin-block-xs">
<section class="feedback-section section is-full-height is-uniform padding-block-none position-relative">
<div class="font-weight-semibold display-none" id="ms--unit-support-message"></div>
<div id="ms--unit-user-feedback">
<!-- feedback section -->

<!-- end feedback section -->
</div>
</section>
</div>
<!-- Interactive footer area -->
</div>
</main></div>
    </div>

    <div class="section">
        <div class="section-header">
            <h2>4. Use concurrent orchestration</h2>
            <a href="https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/4-use-concurrent-orchestration">https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/4-use-concurrent-orchestration</a>
        </div>
        <div class="content"><main class="layout-body-main has-body-background-dark" data-bi-name="content" dir="ltr" id="main" lang="en-us" role="main">
<div data-main-column="">
<!-- Article header -->

<!-- Unit navigation menu -->

<!-- Main content area -->
<div class="content"><div class="modular-content-container has-body-background box">
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use concurrent orchestration</h1>
<div class="xp-tag position-absolute top-0 right-0 margin-top-xs margin-top-sm-tablet margin-top-lg-desktop margin-top-xs-interactive margin-right-sm margin-right-lg-tablet margin-right-sm-interactive" data-progress-uid="learn.wwl.orchestrate-sk-multi-agent-solution.use-concurrent-orchestration">
<div class="xp-tag-hexagon">
<span class="xp-tag-icon is-shown-complete docon docon-check">
<span class="visually-hidden">Completed</span>
</span>
<span class="xp-tag-xp"></span>
</div>
</div>
<ul class="metadata page-metadata" id="module-unit-metadata">
<li id="module-unit-total-time">5 minutes</li>
</ul>
<div aria-hidden="true" hidden="" id="module-unit-module-assessment-message-container"></div>
<div hidden="" id="module-unit-notification-container"></div>
<div id="module-unit-content">
<p><strong>Concurrent orchestration</strong> lets multiple agents work on the same task at the same time. Each agent handles the task independently, and then their outputs are gathered and combined. This method works especially well when you want diverse approaches or solutions, like during brainstorming, group decision-making, or voting.</p>
<p><img alt="Diagram of concurrent orchestration flow." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/wwl-data-ai/orchestrate-semantic-kernel-multi-agent-solution/media/multi-agent-concurrent.png"/></p>
<p>This pattern is useful when you need different approaches or ideas to solve the same problem. Instead of having agents work one after another, they all work at the same time. This speeds up the process and covers the problem from many angles.</p>
<p>Usually, the results from each agent are combined to create a final answer, but this isn’t always necessary. Each agent can also produce its own separate result, like calling tools to complete tasks or updating different data stores independently.</p>
<p>Agents work on their own and don't share results with each other. However, an agent can call other AI agents by running its own orchestration as part of its process. Agents need to know which other agents are available to work on tasks. This pattern allows you to either call all registered agents every time or choose which agents to run based on the specific task.</p>
<h2 id="when-to-use-concurrent-orchestration">When to use concurrent orchestration</h2>
<p>You may want to consider using the concurrent orchestration pattern in these situations:</p>
<ul>
<li>When tasks can run at the same time, either by using a fixed group of agents or by selecting AI agents dynamically based on what the task needs.</li>
<li>When the task benefits from different specialized skills or approaches (for example, technical, business, or creative) that all work independently but contribute to solving the same problem.</li>
</ul>
<p>This kind of teamwork is common in multi-agent decision-making methods such as:</p>
<ul>
<li>Brainstorming ideas</li>
<li>Combining different reasoning methods (ensemble reasoning)</li>
<li>Making decisions based on voting or consensus (quorum)</li>
<li>Handling tasks where speed matters and running agents in parallel cuts down wait time</li>
</ul>
<h2 id="when-to-avoid-concurrent-orchestration">When to avoid concurrent orchestration</h2>
<p>You may want to avoid using the concurrent orchestration pattern in the following scenarios:</p>
<ul>
<li>Agents need to build on each other's work or depend on shared context in a specific order.</li>
<li>The task requires a strict sequence of steps or predictable, repeatable results.</li>
<li>Resource limits, like model usage quotas, make running agents in parallel inefficient or impossible.</li>
<li>Agents can't reliably coordinate changes to shared data or external systems while running at the same time.</li>
<li>There's no clear way to resolve conflicts or contradictions between results from different agents.</li>
<li>Combining results is too complicated or ends up lowering the overall quality.</li>
</ul>
<h2 id="implement-concurrent-orchestration">Implement concurrent orchestration</h2>
<p>Implement the concurrent orchestration pattern with the Microsoft Agent Framework:</p>
<ol>
<li><p><strong>Create your chat client</strong><br/>
Set up a chat client (for example, <code>AzureOpenAIChatClient</code>) with appropriate credentials to connect to your AI service provider.</p>
</li>
<li><p><strong>Define your agents</strong><br/>
Create agent instances using the chat client's <code>create_agent</code> method. Each agent should have specific instructions and a name that defines its role and expertise area.</p>
</li>
<li><p><strong>Build the concurrent workflow</strong><br/>
Use the <code>ConcurrentBuilder</code> class to create a workflow that can run multiple agents in parallel. Add your agent instances as participants using the <code>participants()</code> method, then call <code>build()</code> to create the workflow.</p>
</li>
<li><p><strong>Run the workflow</strong><br/>
Call the workflow's <code>run</code> method with the task or input you want the agents to work on. The workflow runs all agents concurrently and returns events containing the results.</p>
</li>
<li><p><strong>Process the results</strong><br/>
Extract the outputs from the workflow events using <code>get_outputs()</code>. The results contain the combined conversations from all agents, with each agent's response included in the final output.</p>
</li>
<li><p><strong>Handle the aggregated responses</strong><br/>
Process the aggregated messages from all agents. Each message includes the author name and content, allowing you to identify which agent provided each response.</p>
</li>
</ol>
<p>Concurrent orchestration is a powerful pattern for using multiple AI agents simultaneously, enabling faster and more diverse problem-solving. By running agents in parallel, you can explore different approaches at once, improve efficiency, and gain richer insights. However, it's important to choose this pattern when tasks can truly run independently and to be mindful of resource constraints and coordination challenges. When implemented thoughtfully with the Microsoft Agent Framework SDK, concurrent orchestration can greatly enhance your AI workflows and decision-making processes.</p>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
</div>
</div>
<!-- Feedback area -->
<div class="modular-content-container margin-block-xs">
<section class="feedback-section section is-full-height is-uniform padding-block-none position-relative">
<div class="font-weight-semibold display-none" id="ms--unit-support-message"></div>
<div id="ms--unit-user-feedback">
<!-- feedback section -->

<!-- end feedback section -->
</div>
</section>
</div>
<!-- Interactive footer area -->
</div>
</main></div>
    </div>

    <div class="section">
        <div class="section-header">
            <h2>5. Use sequential orchestration</h2>
            <a href="https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/5-use-sequential-orchestration">https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/5-use-sequential-orchestration</a>
        </div>
        <div class="content"><main class="layout-body-main has-body-background-dark" data-bi-name="content" dir="ltr" id="main" lang="en-us" role="main">
<div data-main-column="">
<!-- Article header -->

<!-- Unit navigation menu -->

<!-- Main content area -->
<div class="content"><div class="modular-content-container has-body-background box">
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use sequential orchestration</h1>
<div class="xp-tag position-absolute top-0 right-0 margin-top-xs margin-top-sm-tablet margin-top-lg-desktop margin-top-xs-interactive margin-right-sm margin-right-lg-tablet margin-right-sm-interactive" data-progress-uid="learn.wwl.orchestrate-sk-multi-agent-solution.use-sequential-orchestration">
<div class="xp-tag-hexagon">
<span class="xp-tag-icon is-shown-complete docon docon-check">
<span class="visually-hidden">Completed</span>
</span>
<span class="xp-tag-xp"></span>
</div>
</div>
<ul class="metadata page-metadata" id="module-unit-metadata">
<li id="module-unit-total-time">5 minutes</li>
</ul>
<div aria-hidden="true" hidden="" id="module-unit-module-assessment-message-container"></div>
<div hidden="" id="module-unit-notification-container"></div>
<div id="module-unit-content">
<p>In <strong>sequential orchestration</strong>, agents are arranged in a pipeline where each agent processes the task one after another. The output from one agent becomes the input for the next. This pattern is ideal for workflows where each step depends on the previous one, such as document review, data transformation pipelines, or multi-stage reasoning.</p>
<p><img alt="Diagram that shows sequential orchestration where agents process tasks in a defined pipeline order. Output flows from one agent to the next." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/wwl-data-ai/orchestrate-semantic-kernel-multi-agent-solution/media/multi-agent-sequential.png"/></p>
<p>Sequential orchestration works best for tasks that need to be done step-by-step, with each step improving on the last. The order in which agents run is fixed and decided beforehand, and agents don't decide what happens next.</p>
<h2 id="when-to-use-sequential-orchestration">When to use sequential orchestration</h2>
<p>Consider using the sequential orchestration pattern when your workflow has:</p>
<ul>
<li>Processes made up of multiple steps that must happen in a specific order, where each step relies on the one before it.</li>
<li>Data workflows where each stage adds something important that the next stage needs to work properly.</li>
<li>Tasks where stages can't be done at the same time and must run one after another.</li>
<li>Situations that require gradual improvements, like drafting, reviewing, and polishing content.</li>
<li>Systems where you know how each agent performs and can handle delays or failures in any step without stopping the whole process.</li>
</ul>
<h2 id="when-to-avoid-sequential-orchestration">When to avoid sequential orchestration</h2>
<p>Avoid this pattern when:</p>
<ul>
<li>Stages can be run independently and in parallel without affecting quality.</li>
<li>A single agent can perform the entire task effectively.</li>
<li>Early stages may fail or produce poor output, and there's no way to stop or correct downstream processing based on errors.</li>
<li>Agents need to collaborate dynamically rather than hand off work sequentially.</li>
<li>The workflow requires iteration, backtracking, or dynamic routing based on intermediate results.</li>
</ul>
<h2 id="implement-sequential-orchestration">Implement sequential orchestration</h2>
<p>Implement the sequential orchestration pattern with the Microsoft Agent Framework  SDK:</p>
<ol>
<li><p><strong>Create your chat client</strong><br/>
Set up a chat client (for example, <code>AzureOpenAIChatClient</code>) with appropriate credentials to connect to your AI service provider.</p>
</li>
<li><p><strong>Define your agents</strong><br/>
Create agent instances using the chat client's <code>create_agent</code> method. Each agent should have specific instructions and a name that defines its role and expertise area in the pipeline.</p>
</li>
<li><p><strong>Build the sequential workflow</strong><br/>
Use the <code>SequentialBuilder</code> class to create a workflow that executes agents one after another. Add your agent instances as participants using the <code>participants()</code> method, then call <code>build()</code> to create the workflow.</p>
</li>
<li><p><strong>Run the workflow</strong><br/>
Call the workflow's <code>run_stream</code> method with the task or input you want the agents to work on. The workflow processes the task through all agents sequentially, with each agent's output becoming input for the next.</p>
</li>
<li><p><strong>Process the workflow events</strong><br/>
Iterate through the workflow events using an async loop. Look for <code>WorkflowOutputEvent</code> instances, which contain the results from the sequential processing.</p>
</li>
<li><p><strong>Extract the final conversation</strong><br/>
Collect the final conversation from the workflow outputs. The result contains the complete conversation history showing how each agent in the sequence contributed to the final outcome.</p>
</li>
</ol>
<p>Sequential orchestration is ideal when your task requires clear, ordered steps where each agent builds on the previous one's output. This pattern helps improve output quality through stepwise refinement and ensures predictable workflows. When applied thoughtfully with the Microsoft Agent Framework SDK, it enables powerful multi-agent pipelines for complex tasks like content creation, data processing, and more.</p>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
</div>
</div>
<!-- Feedback area -->
<div class="modular-content-container margin-block-xs">
<section class="feedback-section section is-full-height is-uniform padding-block-none position-relative">
<div class="font-weight-semibold display-none" id="ms--unit-support-message"></div>
<div id="ms--unit-user-feedback">
<!-- feedback section -->

<!-- end feedback section -->
</div>
</section>
</div>
<!-- Interactive footer area -->
</div>
</main></div>
    </div>

    <div class="section">
        <div class="section-header">
            <h2>6. Use group chat orchestration</h2>
            <a href="https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/6-use-group-chat-orchestration">https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/6-use-group-chat-orchestration</a>
        </div>
        <div class="content"><main class="layout-body-main has-body-background-dark" data-bi-name="content" dir="ltr" id="main" lang="en-us" role="main">
<div data-main-column="">
<!-- Article header -->

<!-- Unit navigation menu -->

<!-- Main content area -->
<div class="content"><div class="modular-content-container has-body-background box">
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use group chat orchestration</h1>
<div class="xp-tag position-absolute top-0 right-0 margin-top-xs margin-top-sm-tablet margin-top-lg-desktop margin-top-xs-interactive margin-right-sm margin-right-lg-tablet margin-right-sm-interactive" data-progress-uid="learn.wwl.orchestrate-sk-multi-agent-solution.use-group-chat-orchestration">
<div class="xp-tag-hexagon">
<span class="xp-tag-icon is-shown-complete docon docon-check">
<span class="visually-hidden">Completed</span>
</span>
<span class="xp-tag-xp"></span>
</div>
</div>
<ul class="metadata page-metadata" id="module-unit-metadata">
<li id="module-unit-total-time">5 minutes</li>
</ul>
<div aria-hidden="true" hidden="" id="module-unit-module-assessment-message-container"></div>
<div hidden="" id="module-unit-notification-container"></div>
<div id="module-unit-content">
<p><strong>Group chat orchestration</strong> models a collaborative conversation among multiple AI agents, and optionally a human participant. A central chat manager controls the flow, deciding which agent responds next and when to request human input. This pattern is useful for simulating meetings, debates, or collaborative problem-solving.</p>
<p><img alt="Diagram that shows group chat orchestration where multiple agents participate in a managed conversation. A central chat manager coordinates the discussion flow." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/wwl-data-ai/orchestrate-semantic-kernel-multi-agent-solution/media/multi-agent-group-chat.png"/></p>
<p>The group chat pattern works well for scenarios where group discussion or iterative collaboration is key to reaching decisions. It supports different interaction styles, from free-flowing ideation to formal workflows with defined roles and approval steps. Group chat orchestration is also great for human-in-the-loop setups where a human may guide or intervene in the conversation. Typically, agents in this pattern don't directly change running systems—they mainly contribute to the conversation.</p>
<h2 id="when-to-use-group-chat-orchestration">When to use group chat orchestration</h2>
<p>Consider using group chat orchestration when your scenario involves:</p>
<ul>
<li>Spontaneous or guided collaboration among agents (and possibly humans)</li>
<li>Iterative maker-checker loops where agents take turns creating and reviewing</li>
<li>Real-time human oversight or participation</li>
<li>Transparent and auditable conversations since all output is collected in a single thread</li>
</ul>
<p>Common scenarios include:</p>
<ul>
<li>Creative brainstorming where agents build on each other's ideas</li>
<li>Decision-making that benefits from debate and consensus</li>
<li>Complex problems requiring cross-disciplinary dialogue</li>
<li>Quality control and validation requiring multiple expert perspectives</li>
<li>Content workflows with clear separation between creation and review</li>
</ul>
<h2 id="when-to-avoid-group-chat-orchestration">When to avoid group chat orchestration</h2>
<p>Avoid this pattern when:</p>
<ul>
<li>Simple task delegation or straightforward linear pipelines suffice</li>
<li>Real-time speed requirements make discussion overhead impractical</li>
<li>Hierarchical or deterministic workflows are needed without discussion</li>
<li>The chat manager can't clearly determine when the task is complete</li>
<li>Managing conversation flow becomes too complex, especially with many agents (limit to three or fewer for easier control)</li>
</ul>
<h2 id="maker-checker-loops">Maker-checker loops</h2>
<p>A common special case is the maker-checker loop. Here, one agent (the maker) proposes content or solutions, and another agent (the checker) reviews and critiques them. The checker can send feedback back to the maker, and this cycle repeats until the result is satisfactory. This process requires a turn-based sequence managed by the chat manager.</p>
<h2 id="implement-group-chat-orchestration">Implement group chat orchestration</h2>
<p>Implement the group chat orchestration pattern with the Microsoft Agent Framework SDK:</p>
<ol>
<li><p><strong>Create your chat client</strong><br/>
Set up a chat client (for example, <code>AzureOpenAIChatClient</code>) with appropriate credentials to connect to your AI service provider.</p>
</li>
<li><p><strong>Define your agents</strong><br/>
Create agent instances using the chat client's <code>create_agent</code> method. Each agent should have specific instructions and a name that defines its role and expertise area.</p>
</li>
<li><p><strong>Build the group chat workflow</strong><br/>
Use the <code>GroupChatBuilder</code> class to create a workflow that can run multiple agents in parallel. Add your agent instances as participants using the <code>participants()</code> method, then call <code>build()</code> to create the workflow.</p>
</li>
<li><p><strong>Run the workflow</strong><br/>
Call the workflow's <code>run</code> method with the task or input you want the agents to work on. The workflow runs all agents concurrently and returns events containing the results.</p>
</li>
<li><p><strong>Process the results</strong><br/>
Extract the outputs from the workflow events using <code>get_outputs()</code>. The results contain the combined conversations from all agents, with each agent's response included in the final output.</p>
</li>
<li><p><strong>Handle the aggregated responses</strong><br/>
Process the aggregated messages from all agents. Each message includes the author name and content, allowing you to identify which agent provided each response.</p>
</li>
</ol>
<h2 id="customizing-the-group-chat-manager">Customizing the group chat manager</h2>
<p>You can create a custom group chat manager by extending the base <code>GroupChatManager</code> class. This approach lets you control:</p>
<ul>
<li>How conversation results are filtered or summarized</li>
<li>How the next agent is selected</li>
<li>When to request user input</li>
<li>When to terminate the conversation</li>
</ul>
<p>Custom managers let you implement specialized logic tailored to your use case.</p>
<h2 id="group-chat-manager-call-order">Group chat manager call order</h2>
<p>During each round of the conversation, the chat manager calls methods in this order:</p>
<ol>
<li><code>should_request_user_input</code> - Checks if human input is needed before the next agent responds.</li>
<li><code>should_terminate</code> - Determines if the conversation should end (for example, max rounds reached).</li>
<li><code>filter_results</code> - If ending, summarizes or processes the final conversation.</li>
<li><code>select_next_agent</code> - If continuing, chooses the next agent to speak.</li>
</ol>
<p>This ensures user input and termination conditions are handled before moving the conversation forward. Override these methods in your custom manager to change behavior.</p>
<p>Group chat orchestration enables multiple AI agents—and optionally humans—to collaborate through guided conversation and iterative feedback. It's ideal for complex tasks that benefit from diverse expertise and dynamic interaction. While it requires careful management, this pattern offers transparency and flexibility in decision-making and creative workflows. The Microsoft Agent Framework SDK makes it easy to implement and customize group chat orchestration for your needs.</p>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
</div>
</div>
<!-- Feedback area -->
<div class="modular-content-container margin-block-xs">
<section class="feedback-section section is-full-height is-uniform padding-block-none position-relative">
<div class="font-weight-semibold display-none" id="ms--unit-support-message"></div>
<div id="ms--unit-user-feedback">
<!-- feedback section -->

<!-- end feedback section -->
</div>
</section>
</div>
<!-- Interactive footer area -->
</div>
</main></div>
    </div>

    <div class="section">
        <div class="section-header">
            <h2>7. Use handoff orchestration</h2>
            <a href="https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/7-use-handoff-orchestration">https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/7-use-handoff-orchestration</a>
        </div>
        <div class="content"><main class="layout-body-main has-body-background-dark" data-bi-name="content" dir="ltr" id="main" lang="en-us" role="main">
<div data-main-column="">
<!-- Article header -->

<!-- Unit navigation menu -->

<!-- Main content area -->
<div class="content"><div class="modular-content-container has-body-background box">
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use handoff orchestration</h1>
<div class="xp-tag position-absolute top-0 right-0 margin-top-xs margin-top-sm-tablet margin-top-lg-desktop margin-top-xs-interactive margin-right-sm margin-right-lg-tablet margin-right-sm-interactive" data-progress-uid="learn.wwl.orchestrate-sk-multi-agent-solution.use-handoff-orchestration">
<div class="xp-tag-hexagon">
<span class="xp-tag-icon is-shown-complete docon docon-check">
<span class="visually-hidden">Completed</span>
</span>
<span class="xp-tag-xp"></span>
</div>
</div>
<ul class="metadata page-metadata" id="module-unit-metadata">
<li id="module-unit-total-time">5 minutes</li>
</ul>
<div aria-hidden="true" hidden="" id="module-unit-module-assessment-message-container"></div>
<div hidden="" id="module-unit-notification-container"></div>
<div id="module-unit-content">
<p><strong>Handoff orchestration</strong> lets AI agents transfer control to one another based on the task context or user requests. Each agent can "handoff" the conversation to another agent with the right expertise, making sure the best-suited agent handles each part of the task. This pattern is ideal for customer support, expert systems, or any situation where dynamic delegation is needed.</p>
<p><img alt="Diagram of handoff orchestration flow." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/wwl-data-ai/orchestrate-semantic-kernel-multi-agent-solution/media/multi-agent-handoff.png"/></p>
<p>This pattern fits scenarios where the best agent isn't known upfront or where the task requirements become clearer during processing. Unlike parallel patterns, agents work one at a time, fully handing off control from one to the next.</p>
<h2 id="when-to-use-handoff-orchestration">When to use handoff orchestration</h2>
<p>You may want to consider using the handoff orchestration pattern in these scenarios:</p>
<ul>
<li>Tasks need specialized knowledge or tools, but the number or order of agents can't be determined in advance.</li>
<li>Expertise requirements emerge dynamically during processing, triggering task routing based on content analysis.</li>
<li>Multiple-domain problems require different specialists working sequentially.</li>
<li>You can define clear signals or rules indicating when an agent should transfer control and to whom.</li>
</ul>
<h2 id="when-to-avoid-handoff-orchestration">When to avoid handoff orchestration</h2>
<p>You may want to avoid using the handoff orchestration pattern in these scenarios:</p>
<ul>
<li>The involved agents and their order are known upfront and fixed.</li>
<li>Task routing is simple and rule-based, not needing dynamic interpretation.</li>
<li>Poor routing decisions might frustrate users.</li>
<li>Multiple operations must run at the same time.</li>
<li>Avoiding infinite handoff loops or excessive bouncing between agents is difficult.</li>
</ul>
<h2 id="implementing-handoff-orchestration">Implementing handoff orchestration</h2>
<p>The handoff orchestration pattern can be implemented in the Microsoft Agent Framework SDK using control workflows. In a control workflow, each agent processes the task in sequence, and based on its output, the workflow decides which agent to call next. This routing is done using a switch-case structure that routes the task to different agents based on classification results.</p>
<ol>
<li><p><strong>Set up data models and chat client</strong></p>
<ul>
<li>Create your chat client for connecting to AI services</li>
<li>Define Pydantic models for AI agents' structured JSON responses</li>
<li>Create simple data classes for passing information between workflow steps</li>
<li>Configure agents with specific instructions and <code>response_format</code> parameter for structured JSON output</li>
</ul>
</li>
<li><p><strong>Create specialized executor functions</strong></p>
<ul>
<li><strong>Input storage executor</strong> - saves incoming data to shared state and forwards to classification agent</li>
<li><strong>Transformation executor</strong> - converts agent's JSON response into typed routing object</li>
<li><strong>Handler executors</strong> - separate executors for each classification outcome with guard conditions to verify correct message processing</li>
</ul>
</li>
<li><p><strong>Build routing logic</strong></p>
<ul>
<li>Create factory functions that generate condition checkers for each classification value</li>
<li>Design conditions to examine incoming messages and return true for specific classification results</li>
<li>Use conditions with Case objects in switch-case edge groups</li>
<li>Always include a Default case as fallback for unexpected scenarios</li>
</ul>
</li>
<li><p><strong>Assemble the workflow</strong></p>
<ul>
<li>Use WorkflowBuilder to connect executors with regular edges</li>
<li>Add switch-case edge group for routing based on classification results</li>
<li>Configure workflow to follow first matching case or fall back to default</li>
<li>Set up terminal executor to yield final output</li>
</ul>
</li>
</ol>
<p>Handoff orchestration provides a flexible way to route tasks dynamically among specialized AI agents, ensuring that each part of a workflow is handled by the best-suited expert. It works well for complex, evolving tasks like customer support or multi-domain problem solving where expertise needs change during the conversation. When you use the Microsoft Agent Framework SDK, you can build adaptable systems that seamlessly transfer control between agents—and include human input when needed—for smooth and efficient task completion.</p>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
</div>
</div>
<!-- Feedback area -->
<div class="modular-content-container margin-block-xs">
<section class="feedback-section section is-full-height is-uniform padding-block-none position-relative">
<div class="font-weight-semibold display-none" id="ms--unit-support-message"></div>
<div id="ms--unit-user-feedback">
<!-- feedback section -->

<!-- end feedback section -->
</div>
</section>
</div>
<!-- Interactive footer area -->
</div>
</main></div>
    </div>

    <div class="section">
        <div class="section-header">
            <h2>8. Use Magentic orchestration</h2>
            <a href="https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/8-use-magentic-orchestration">https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/8-use-magentic-orchestration</a>
        </div>
        <div class="content"><main class="layout-body-main has-body-background-dark" data-bi-name="content" dir="ltr" id="main" lang="en-us" role="main">
<div data-main-column="">
<!-- Article header -->

<!-- Unit navigation menu -->

<!-- Main content area -->
<div class="content"><div class="modular-content-container has-body-background box">
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Use Magentic orchestration</h1>
<div class="xp-tag position-absolute top-0 right-0 margin-top-xs margin-top-sm-tablet margin-top-lg-desktop margin-top-xs-interactive margin-right-sm margin-right-lg-tablet margin-right-sm-interactive" data-progress-uid="learn.wwl.orchestrate-sk-multi-agent-solution.use-magentic-orchestration">
<div class="xp-tag-hexagon">
<span class="xp-tag-icon is-shown-complete docon docon-check">
<span class="visually-hidden">Completed</span>
</span>
<span class="xp-tag-xp"></span>
</div>
</div>
<ul class="metadata page-metadata" id="module-unit-metadata">
<li id="module-unit-total-time">5 minutes</li>
</ul>
<div aria-hidden="true" hidden="" id="module-unit-module-assessment-message-container"></div>
<div hidden="" id="module-unit-notification-container"></div>
<div id="module-unit-content">
<p><strong>Magentic orchestration</strong> is a flexible, general-purpose multi-agent pattern designed for complex, open-ended tasks that require dynamic collaboration. This pattern uses a dedicated Magentic manager to coordinate a team of specialized agents. The manager decides which agent should act next based on the evolving context, task progress, and agent capabilities.</p>
<p><img alt="Diagram of Magentic orchestration flow." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/wwl-data-ai/orchestrate-semantic-kernel-multi-agent-solution/media/multi-agent-magnetic.png"/></p>
<p>The Magentic manager maintains a shared context, tracks progress, and adapts the workflow in real time. This approach allows the system to break down complex problems, assign subtasks, and iteratively refine solutions. The process focuses as much on building and documenting the approach as it does on delivering the final solution. A dynamic task ledger is built and refined as the workflow progresses, recording goals, subgoals, and execution plans.</p>
<h2 id="when-to-use-magentic-orchestration">When to use Magentic orchestration</h2>
<p>Consider using the Magentic orchestration pattern in these scenarios:</p>
<ul>
<li>The problem is complex or open-ended with no predetermined solution path.</li>
<li>Input and feedback from multiple specialized agents are needed to shape a valid solution.</li>
<li>The system must generate a documented plan of approach for human review.</li>
<li>Agents have tools that can directly interact with external systems and resources.</li>
<li>A step-by-step, dynamically built execution plan adds value before running the tasks.</li>
</ul>
<h2 id="when-to-avoid-magentic-orchestration">When to avoid Magentic orchestration</h2>
<p>You may want to avoid this pattern when:</p>
<ul>
<li>The solution path is fixed or deterministic.</li>
<li>There's no need to produce a ledger or plan of approach.</li>
<li>The task is simple enough for a more lightweight orchestration pattern.</li>
<li>Speed is the priority, as this method emphasizes planning over fast execution.</li>
<li>You expect frequent stalls or loops without a clear resolution path.</li>
</ul>
<h2 id="implementing-magentic-orchestration">Implementing Magentic orchestration</h2>
<p>Implement the Magentic orchestration pattern with the Microsoft Agent Framework:</p>
<ol>
<li><p><strong>Define specialized agents</strong><br/>
Create agent instances (for example, <code>ChatAgent</code>) with specific instructions and chat clients. Each agent should have a specialized role and capabilities suited for different aspects of the complex task.</p>
</li>
<li><p><strong>Set up event handling callback</strong><br/>
Define an async callback function to handle different types of events during orchestration, including orchestrator messages, agent streaming updates, agent messages, and final results.</p>
</li>
<li><p><strong>Build the Magentic workflow</strong><br/>
Use the <code>MagenticBuilder</code> class to create the orchestration. Add your agent instances as participants, configure the event callback with streaming mode, and set up the standard manager with appropriate parameters like max round count and stall limits.</p>
</li>
<li><p><strong>Configure the standard manager</strong><br/>
The standard manager coordinates agent collaboration using a chat client for planning and progress tracking. Configure parameters like maximum round count, stall count, and reset count to control the orchestration behavior.</p>
</li>
<li><p><strong>Run the workflow</strong><br/>
Call the workflow's <code>run_stream</code> method with your complex task. The workflow dynamically plans, delegates work to appropriate agents, and coordinates their collaboration to solve the problem.</p>
</li>
<li><p><strong>Process workflow events</strong><br/>
Iterate through the workflow events using an async loop. Handle different event types including <code>WorkflowOutputEvent</code>, which contains the final results from the orchestration.</p>
</li>
<li><p><strong>Extract the final result</strong><br/>
Collect the final output from the workflow events. The result contains the complete solution developed through the collaborative effort of all participating agents.</p>
</li>
</ol>
<p>Magentic orchestration excels at solving complex, evolving problems that require real-time coordination between specialized agents. It's ideal for tasks where the plan can't be defined in advance and must adapt as new information emerges. Using the Microsoft Agent Framework, you can build systems that dynamically design, refine, and execute solution paths through intelligent agent collaboration.</p>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
</div>
</div>
<!-- Feedback area -->
<div class="modular-content-container margin-block-xs">
<section class="feedback-section section is-full-height is-uniform padding-block-none position-relative">
<div class="font-weight-semibold display-none" id="ms--unit-support-message"></div>
<div id="ms--unit-user-feedback">
<!-- feedback section -->

<!-- end feedback section -->
</div>
</section>
</div>
<!-- Interactive footer area -->
</div>
</main></div>
    </div>

    <div class="section">
        <div class="section-header">
            <h2>9. Exercise - Develop a multi-agent solution</h2>
            <a href="https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/9-exercise">https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/9-exercise</a>
        </div>
        <div class="content"><main class="layout-body-main has-body-background-dark" data-bi-name="content" dir="ltr" id="main" lang="en-us" role="main">
<div data-main-column="">
<!-- Article header -->

<!-- Unit navigation menu -->

<!-- Main content area -->
<div class="content"><div class="modular-content-container has-body-background box">
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Exercise - Develop a multi-agent solution</h1>
<div class="xp-tag position-absolute top-0 right-0 margin-top-xs margin-top-sm-tablet margin-top-lg-desktop margin-top-xs-interactive margin-right-sm margin-right-lg-tablet margin-right-sm-interactive" data-progress-uid="learn.wwl.orchestrate-sk-multi-agent-solution.exercise">
<div class="xp-tag-hexagon">
<span class="xp-tag-icon is-shown-complete docon docon-check">
<span class="visually-hidden">Completed</span>
</span>
<span class="xp-tag-xp"></span>
</div>
</div>
<ul class="metadata page-metadata" id="module-unit-metadata">
<li id="module-unit-total-time">30 minutes</li>
</ul>
<div aria-hidden="true" hidden="" id="module-unit-module-assessment-message-container"></div>
<div hidden="" id="module-unit-notification-container"></div>
<div id="module-unit-content">
<p>Now it's your opportunity to build a multi agent solution with the Microsoft Agent Framework. In this exercise, you create an application that automatically triages and resolves issues presented in log files of a system. Using Azure AI Agents, you create an incident manager agent and a devops agent that collaborates to fix the issues.</p>
<p>Launch the exercise and follow the instructions.</p>
<p><a data-linktype="external" href="https://go.microsoft.com/fwlink/?linkid=2310729&amp;azure-portal=true"><img alt="Button to launch exercise." data-linktype="relative-path" src="https://learn.microsoft.com/en-us/training/wwl-data-ai/orchestrate-semantic-kernel-multi-agent-solution/media/launch-exercise.png"/></a></p>
<div class="TIP">
<p>Tip</p>
<p>After completing the exercise, if you're finished exploring multi-agents with Microsoft Agent Framework, delete the Azure resources that you created during the exercise.</p>
</div>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
</div>
</div>
<!-- Feedback area -->
<div class="modular-content-container margin-block-xs">
<section class="feedback-section section is-full-height is-uniform padding-block-none position-relative">
<div class="font-weight-semibold display-none" id="ms--unit-support-message"></div>
<div id="ms--unit-user-feedback">
<!-- feedback section -->

<!-- end feedback section -->
</div>
</section>
</div>
<!-- Interactive footer area -->
</div>
</main></div>
    </div>

    <div class="section">
        <div class="section-header">
            <h2>10. Knowledge check</h2>
            <a href="https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/10-knowledge-check">https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/10-knowledge-check</a>
        </div>
        <div class="content"><main class="layout-body-main has-body-background-dark" data-bi-name="content" dir="ltr" id="main" lang="en-us" role="main">
<div data-main-column="">
<!-- Article header -->

<!-- Unit navigation menu -->

<!-- Main content area -->
<div class="content"><div class="modular-content-container has-body-background box">
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Knowledge check</h1>
<div class="xp-tag position-absolute top-0 right-0 margin-top-xs margin-top-sm-tablet margin-top-lg-desktop margin-top-xs-interactive margin-right-sm margin-right-lg-tablet margin-right-sm-interactive" data-progress-uid="learn.wwl.orchestrate-sk-multi-agent-solution.knowledge-check">
<div class="xp-tag-hexagon">
<span class="xp-tag-icon is-shown-complete docon docon-check">
<span class="visually-hidden">Completed</span>
</span>
<span class="xp-tag-xp"></span>
</div>
</div>
<ul class="metadata page-metadata" id="module-unit-metadata">
<li id="module-unit-total-time">3 minutes</li>
</ul>
<div aria-hidden="true" hidden="" id="module-unit-module-assessment-message-container"></div>
<div hidden="" id="module-unit-notification-container"></div>
<div aria-hidden="true" hidden="" id="module-unit-content">
</div>
<form aria-hidden="true" aria-label="Knowledge check" class="quiz-form margin-top-xs" data-bi-name="quiz" hidden="" id="question-container" role="form">
<fieldset class="field">
<div role="list">
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-1" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-1">
<span class="font-weight-semibold">1.</span>
<p>What's the first step in the Microsoft Agent Framework's unified orchestration workflow?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-0">
<input class="radio-dot choice-input" id="quiz-choice-0-0" name="0" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Select and create an orchestration pattern</p>
</div>
<div ariahidden="true" class="font-weight-semibold position-absolute right-0 margin-right-md answer-result-indicator" hidden="">
<span class="icon"></span>
<span class="answer-result-text"></span>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-1">
<input class="radio-dot choice-input" id="quiz-choice-0-1" name="0" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Define your agents and describe their capabilities</p>
</div>
<div ariahidden="true" class="font-weight-semibold position-absolute right-0 margin-right-md answer-result-indicator" hidden="">
<span class="icon"></span>
<span class="answer-result-text"></span>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-0-2">
<input class="radio-dot choice-input" id="quiz-choice-0-2" name="0" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Start a runtime to manage execution</p>
</div>
<div ariahidden="true" class="font-weight-semibold position-absolute right-0 margin-right-md answer-result-indicator" hidden="">
<span class="icon"></span>
<span class="answer-result-text"></span>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-2" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-2">
<span class="font-weight-semibold">2.</span>
<p>For brainstorming and collaborative problem solving among multiple agents, which orchestration pattern is most suitable?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-0">
<input class="radio-dot choice-input" id="quiz-choice-1-0" name="1" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Group Chat</p>
</div>
<div ariahidden="true" class="font-weight-semibold position-absolute right-0 margin-right-md answer-result-indicator" hidden="">
<span class="icon"></span>
<span class="answer-result-text"></span>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-1">
<input class="radio-dot choice-input" id="quiz-choice-1-1" name="1" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Magentic</p>
</div>
<div ariahidden="true" class="font-weight-semibold position-absolute right-0 margin-right-md answer-result-indicator" hidden="">
<span class="icon"></span>
<span class="answer-result-text"></span>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-1-2">
<input class="radio-dot choice-input" id="quiz-choice-1-2" name="1" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Sequential</p>
</div>
<div ariahidden="true" class="font-weight-semibold position-absolute right-0 margin-right-md answer-result-indicator" hidden="">
<span class="icon"></span>
<span class="answer-result-text"></span>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
<div class="quiz-question" data-bi-name="question" role="listitem">
<div aria-labelledby="quiz-question-3" class="quiz-question-title font-size-md margin-top-sm margin-bottom-xs" role="radiogroup">
<div class="margin-top-sm margin-bottom-xs field-label" id="quiz-question-3">
<span class="font-weight-semibold">3.</span>
<p>Which pattern dynamically transfers control between agents based on context or rules?</p>
<span class="required-indicator"></span>
</div>
<div class="field-body">
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-0">
<input class="radio-dot choice-input" id="quiz-choice-2-0" name="2" type="radio" value="0"/>
<div class="margin-inline-sm radio-label-text">
<p>Handoff</p>
</div>
<div ariahidden="true" class="font-weight-semibold position-absolute right-0 margin-right-md answer-result-indicator" hidden="">
<span class="icon"></span>
<span class="answer-result-text"></span>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-1">
<input class="radio-dot choice-input" id="quiz-choice-2-1" name="2" type="radio" value="1"/>
<div class="margin-inline-sm radio-label-text">
<p>Concurrent</p>
</div>
<div ariahidden="true" class="font-weight-semibold position-absolute right-0 margin-right-md answer-result-indicator" hidden="">
<span class="icon"></span>
<span class="answer-result-text"></span>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
<label class="quiz-choice display-flex padding-block-xxs padding-inline-xs margin-bottom-xxs radio" for="quiz-choice-2-2">
<input class="radio-dot choice-input" id="quiz-choice-2-2" name="2" type="radio" value="2"/>
<div class="margin-inline-sm radio-label-text">
<p>Sequential</p>
</div>
<div ariahidden="true" class="font-weight-semibold position-absolute right-0 margin-right-md answer-result-indicator" hidden="">
<span class="icon"></span>
<span class="answer-result-text"></span>
</div>
</label>
<div class="quiz-choice-explanation margin-block-xxs font-weight-semibold margin-left-lg">
</div>
</div>
</div>
</div>
</div>
<div class="has-loading-skeleton" id="module-unit-quiz-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-question-error" role="alert">You must answer all questions before checking your work.</p>
<p class="visually-hidden" id="screen-reader-text"></p>
</fieldset>
</form>
<form aria-hidden="true" aria-label="Knowledge check" class="margin-top-xs" data-bi-name="module-assessment" hidden="" id="module-assessment-questions-form" role="form">
<fieldset class="field">
<div id="module-assessment-questions-container" role="list"></div>
<div aria-hidden="true" hidden="" id="module-assessment-objectives-container" role="list"></div>
<div id="module-assessment-submit-container"></div>
<p class="font-size-sm color-danger font-weight-semibold margin-top-xxs is-hidden" id="unanswered-module-assessment-question-error" role="alert">You must answer all questions before checking your work.</p>
</fieldset>
</form>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
</div>
</div>
<!-- Feedback area -->
<div class="modular-content-container margin-block-xs">
<section class="feedback-section section is-full-height is-uniform padding-block-none position-relative">
<div class="font-weight-semibold display-none" id="ms--unit-support-message"></div>
<div id="ms--unit-user-feedback">
<!-- feedback section -->

<!-- end feedback section -->
</div>
</section>
</div>
<!-- Interactive footer area -->
</div>
</main></div>
    </div>

    <div class="section">
        <div class="section-header">
            <h2>11. Summary</h2>
            <a href="https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/11-summary">https://learn.microsoft.com/en-us/training/modules/orchestrate-semantic-kernel-multi-agent-solution/11-summary</a>
        </div>
        <div class="content"><main class="layout-body-main has-body-background-dark" data-bi-name="content" dir="ltr" id="main" lang="en-us" role="main">
<div data-main-column="">
<!-- Article header -->

<!-- Unit navigation menu -->

<!-- Main content area -->
<div class="content"><div class="modular-content-container has-body-background box">
<div class="section is-uniform position-relative" id="unit-inner-section">
<h1 class="margin-right-xxl-desktop" id="module-unit-title">Summary</h1>
<div class="xp-tag position-absolute top-0 right-0 margin-top-xs margin-top-sm-tablet margin-top-lg-desktop margin-top-xs-interactive margin-right-sm margin-right-lg-tablet margin-right-sm-interactive" data-progress-uid="learn.wwl.orchestrate-sk-multi-agent-solution.summary">
<div class="xp-tag-hexagon">
<span class="xp-tag-icon is-shown-complete docon docon-check">
<span class="visually-hidden">Completed</span>
</span>
<span class="xp-tag-xp"></span>
</div>
</div>
<ul class="metadata page-metadata" id="module-unit-metadata">
<li id="module-unit-total-time">2 minutes</li>
</ul>
<div aria-hidden="true" hidden="" id="module-unit-module-assessment-message-container"></div>
<div hidden="" id="module-unit-notification-container"></div>
<div id="module-unit-content">
<p>In this module, you explored how to design and manage multi-agent orchestration workflows using the Microsoft Agent Framework SDK. You learned how multi-agent systems provide advantages over single-agent approaches, including improved scalability, specialization, and collaborative problem solving. You also learned several different orchestration patterns—concurrent, sequential, handoff, group chat, and magentic—and reviewed guidance on when and how to use each. You also saw how the SDK provides a unified interface for defining agents, running orchestrations, handling structured data, and retrieving results asynchronously, enabling you to build flexible, reliable, and maintainable multi-agent workflows.</p>
<div class="TIP">
<p>Tip</p>
<p>For more information about Microsoft Agent Framework SDK, see <strong><a data-linktype="absolute-path" href="/en-us/agent-framework/overview/agent-framework-overview?azure-portal=true">Microsoft Agent Framework SDK documentation</a></strong>.</p>
</div>
</div>
<div class="modular-content-container" hidden="" id="next-section">
</div>
</div>
</div>
</div>
<!-- Feedback area -->
<div class="modular-content-container margin-block-xs">
<section class="feedback-section section is-full-height is-uniform padding-block-none position-relative">
<div class="font-weight-semibold display-none" id="ms--unit-support-message"></div>
<div id="ms--unit-user-feedback">
<!-- feedback section -->

<!-- end feedback section -->
</div>
</section>
</div>
<!-- Interactive footer area -->
</div>
</main></div>
    </div>
</body>
</html>